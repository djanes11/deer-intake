{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alyssa%20Janes/Desktop/deer-intake/app/api/gas/search/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nexport const runtime = 'nodejs';\r\nexport const dynamic = 'force-dynamic';\r\n\r\nconst GAS_BASE = process.env.NEXT_PUBLIC_GAS_BASE || process.env.GAS_BASE;\r\nfunction bad(msg: string, code = 400) {\r\n  return NextResponse.json({ ok: false, error: msg }, { status: code });\r\n}\r\n\r\nasync function doSearch(q:string, status:string, limit:string, offset:string){\r\n  const url = (GAS_BASE as string) + `?action=search`\r\n    + (q ? `&q=${encodeURIComponent(q)}` : '')\r\n    + (status ? `&status=${encodeURIComponent(status)}` : '')\r\n    + (limit ? `&limit=${encodeURIComponent(limit)}` : '')\r\n    + (offset ? `&offset=${encodeURIComponent(offset)}` : '');\r\n  const res = await fetch(url, { cache:'no-store' });\r\n  const data = await res.json().catch(()=>({}));\r\n  if (!res.ok || data?.ok===false) return bad(data?.error || `GAS error (${res.status})`, res.status || 500);\r\n  const rows = data?.rows || data?.results || data?.items || [];\r\n  const total = data?.total ?? data?.count;\r\n  return NextResponse.json({ ok:true, rows, total });\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  if (!GAS_BASE) return bad('Missing NEXT_PUBLIC_GAS_BASE env', 500);\r\n  const { searchParams } = new URL(req.url);\r\n  return doSearch(\r\n    String(searchParams.get('q')||''),\r\n    String(searchParams.get('status')||''),\r\n    String(searchParams.get('limit')||''),\r\n    String(searchParams.get('offset')||''),\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AACO,MAAM,UAAU;AAChB,MAAM,UAAU;AAEvB,MAAM,WAAW,wJAAoC,QAAQ,GAAG,CAAC,QAAQ;AACzE,SAAS,IAAI,GAAW,EAAE,OAAO,GAAG;IAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,IAAI;QAAO,OAAO;IAAI,GAAG;QAAE,QAAQ;IAAK;AACrE;AAEA,eAAe,SAAS,CAAQ,EAAE,MAAa,EAAE,KAAY,EAAE,MAAa;IAC1E,MAAM,MAAM,AAAC,WAAsB,CAAC,cAAc,CAAC,GAC/C,CAAC,IAAI,CAAC,GAAG,EAAE,mBAAmB,IAAI,GAAG,EAAE,IACvC,CAAC,SAAS,CAAC,QAAQ,EAAE,mBAAmB,SAAS,GAAG,EAAE,IACtD,CAAC,QAAQ,CAAC,OAAO,EAAE,mBAAmB,QAAQ,GAAG,EAAE,IACnD,CAAC,SAAS,CAAC,QAAQ,EAAE,mBAAmB,SAAS,GAAG,EAAE;IAC1D,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,OAAM;IAAW;IAChD,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,IAAI,CAAC,IAAI,EAAE,IAAI,MAAM,OAAK,OAAO,OAAO,IAAI,MAAM,SAAS,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,MAAM,IAAI;IACtG,MAAM,OAAO,MAAM,QAAQ,MAAM,WAAW,MAAM,SAAS,EAAE;IAC7D,MAAM,QAAQ,MAAM,SAAS,MAAM;IACnC,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,IAAG;QAAM;QAAM;IAAM;AAClD;AAEO,eAAe,IAAI,GAAY;IACpC;;IACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,OAAO,SACL,OAAO,aAAa,GAAG,CAAC,QAAM,KAC9B,OAAO,aAAa,GAAG,CAAC,aAAW,KACnC,OAAO,aAAa,GAAG,CAAC,YAAU,KAClC,OAAO,aAAa,GAAG,CAAC,aAAW;AAEvC","debugId":null}}]
}